import{c as g,b as x,j as e,d as h,r as T,f as M,e as $,a as w}from"./index-BCpilerQ.js";import{c as j,a as p}from"./calculate-balance-D-teRt_A.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],A=g("arrow-right",S);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],F=g("credit-card",E);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]],U=g("hand-coins",R);function f({title:r,code:t,amount:s,type:c,status:a,icon:i}){const m=t.slice(-4),{currency:d}=x();return e.jsxs("div",{className:"w-44 sm:w-80 md:w-[21rem] px-6 bg-white dark:bg-background-dark rounded-2xl shadow-md p-4 flex flex-col gap-3 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[i&&e.jsx("div",{className:"text-xl text-rose-base",children:i}),e.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100 truncate",children:r})]}),e.jsxs("div",{className:"text-gray-500 dark:text-gray-400 text-sm tracking-widest",children:["•••• ",m]}),c==="card"?e.jsxs("div",{className:"text-sm font-medium text-blue-600 dark:text-green-600 flex gap-2 items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-600"}),e.jsx("span",{children:a||"Stateless"})]}):e.jsxs("div",{className:"text-lg font-bold text-blsck dark:text-gray-200",children:[s!=null?`${s.toLocaleString()}`:"0"," ",d==="EUR"?"€":"$"]})]})}function l({className:r=""}){return e.jsx("div",{className:`bg-gray-300 dark:bg-gray-700 rounded animate-pulse ${r}`,"aria-hidden":"true"})}function b({pressed:r,onClick:t,disabled:s,children:c,className:a="",...i}){return e.jsx("button",{type:"button","aria-pressed":r,onClick:t,disabled:s,className:`inline-flex items-center gap-2 px-4 py-2 rounded-full border text-sm font-medium shadow-sm transition ${a}
        ${s?"border-transparent bg-gray-200 dark:bg-gray-700 cursor-default":"border-gray-200 dark:border-gray-700 bg-gray-20 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-rose-base"}`,...i,children:c})}const _=()=>{const{state:{transactions:r,loading:t}}=h("AccountOverview"),{currency:s,toggleCurrency:c}=x(),[a,i]=T.useState(!0),m=n=>new Intl.NumberFormat("de-DE",{style:"currency",currency:s}).format(n),d=new Date,v=d.getFullYear(),k=d.getMonth(),N=j(r),y=a?r.filter(n=>{const o=new Date(n.date);return o.getFullYear()===v&&o.getMonth()===k}):r,C=y.filter(n=>n.type==="Deposit").reduce((n,o)=>n+o.amount,0),D=y.filter(n=>n.type==="Withdrawal").reduce((n,o)=>n+Math.abs(o.amount),0),u=n=>t==="pending"?e.jsx(l,{className:"h-6 w-24 mx-auto"}):m(p(s,n));return e.jsxs("section",{className:"w-full sm:w-1/2 md:w-1/2 bg-white dark:bg-background-dark px-6 py-2 rounded-3xl shadow-lg max-w-3xl mx-auto ",role:"region","aria-labelledby":"account-overview-title",children:[e.jsxs("header",{className:"flex items-center justify-between my-2",children:[t==="pending"?e.jsx(l,{className:"h-8 w-48"}):e.jsx("h2",{id:"account-overview-title",className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Account Overview"}),e.jsx(b,{pressed:s==="EUR",onClick:c,disabled:t==="pending","aria-label":"Switch currency",children:s==="EUR"?e.jsx("span",{children:"€ Euro"}):e.jsx("span",{children:"$ Dollar"})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:`bg-white dark:bg-rose-base/5 rounded-2xl p-3 text-center shadow-inner ${t==="pending"?"cursor-wait":""}`,"aria-label":"Available balance",children:[e.jsx("p",{className:`text-sm font-semibold text-rose-base dark:rose-base mb-2 uppercase tracking-wide ${t==="pending"?"invisible":""}`,children:"Available Balance"}),t==="pending"?e.jsx(l,{className:"h-8 w-32 mx-auto"}):e.jsx("p",{"data-testid":"balance",className:"text-lg font-extrabold text-indigo-900 dark:text-indigo-100",children:u(N)})]}),e.jsx("div",{className:"flex items-center justify-between px-4",children:t==="pending"?e.jsxs(e.Fragment,{children:[e.jsx(l,{className:"h-6 w-32"}),e.jsx(l,{className:"h-7 w-28 rounded-full"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-lg text-gray-800 dark:text-white font-semibold",children:a?"Current month":"Total"}),e.jsx(b,{pressed:a,onClick:()=>i(!a),disabled:t!=="success","aria-label":"Toggle between current month and total transactions",children:a?"Show all":"Current Month"})]})}),e.jsxs("div",{className:"flex justify-between px-4 gap-4",children:[e.jsxs("div",{className:"text-center shadow-inner rounded-lg py-2 flex-1","aria-label":a?"Incomes for current month":"Total incomes",children:[e.jsx("p",{"data-testid":"incomes",className:`text-sm font-semibold text-green-700 dark:text-green-300 uppercase tracking-wide ${t==="pending"?"invisible":""}`,children:"Incomes"}),t==="pending"?e.jsx(l,{className:"h-8 w-24 mx-auto"}):e.jsx("p",{className:"text-lg font-bold text-green-900 dark:text-green-100",children:u(C)})]}),e.jsxs("div",{className:"text-center shadow-inner rounded-lg py-2 flex-1","aria-label":a?"Expenses for current month":"Total expenses",children:[e.jsx("p",{"data-testid":"expenses",className:`text-sm font-semibold text-red-700 dark:text-red-300 uppercase tracking-wide ${t==="pending"?"invisible":""}`,children:"Expenses"}),t==="pending"?e.jsx(l,{className:"h-8 w-24 mx-auto"}):e.jsx("p",{className:"text-lg font-bold text-red-900 dark:text-red-100",children:u(D)})]})]})]})]})},O=r=>{const t=new Date(r),s=new Date;return t.getDate()===s.getDate()&&t.getMonth()===s.getMonth()&&t.getFullYear()===s.getFullYear()?"Today":M(t,"MMM dd",{locale:$})},Y=r=>r==="Deposit"?"text-green-500":"text-red-500";function B(){const r=w(),{state:{transactions:t}}=h("TransactionsView"),{currency:s}=x(),c=[...t].sort((a,i)=>new Date(i.date).getTime()-new Date(a.date).getTime()).slice(0,3);return e.jsx("div",{className:"flex flex-col gap-2 items-center md:justify-start lg:justify-start justify-start",children:e.jsxs("div",{className:"w-full sm:w-1/2 md:w-1/2 bg-white dark:bg-background-dark rounded-2xl shadow-md p-4 flex flex-col justify-start items-start gap-3 transition-all duration-300",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100 truncate",children:"Transactions Overview"}),e.jsx("div",{className:"w-full flex flex-col divide-y divide-gray-100 dark:divide-gray-800",children:c.map(a=>e.jsxs("div",{className:"flex justify-between items-center py-2 text-gray-800 dark:text-gray-100 text-xs",role:"listitem",children:[e.jsx("span",{className:"w-[25%] font-medium",children:O(a.date)}),e.jsx("span",{className:"w-[50%] truncate max-w-[150px] text-start",children:a.description}),e.jsxs("span",{className:`w-[25%] text-sm font-semibold ${Y(a.type)}`,children:[p(s,a.amount).toFixed(2),s==="EUR"?"€":"$"]})]},a.id))}),e.jsxs("button",{type:"button",className:"cursor-pointer text-rose-base flex gap-2 text-xs items-center font-bold hover:underline focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary","aria-label":"Show all transactions",onClick:()=>r("/transactions-history"),children:[e.jsx("span",{children:"Show all"}),e.jsx(A,{size:15})]})]})})}function z(){const r=w(),{state:{transactions:t}}=h("AccountOverview"),{currency:s}=x(),c=j(t);return e.jsxs("div",{className:"space-y-5 ",children:[e.jsx(_,{}),e.jsxs("div",{className:"flex items-center justify-center gap-6",children:[e.jsx("div",{onClick:()=>r("/transactions-history"),className:"cursor-pointer",children:e.jsx(f,{title:"Account",code:"1234567812365985",type:"account",icon:e.jsx(U,{className:"text-gray-700 dark:text-gray-300"}),amount:p(s,c)})}),e.jsx(f,{title:"Credit Card",code:"1234567812345678",type:"card",status:"Active",icon:e.jsx(F,{className:"text-gray-700 dark:text-gray-300"})})]}),e.jsx(B,{})]})}export{z as default};
